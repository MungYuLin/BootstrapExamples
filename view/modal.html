<div class="container-fluid">
    <div class="row">
        <div class="bs-example">
            <div class="col-md-6">
                <span class="bg-info">实例1：默认模态框实例</span>
                <hr>
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">显示模态框</button>
                <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                    <div class="modal-dialog">
                        <!-- 通过对.modal-dialog的DIV中添加样式modal-sm、modal-lg对模态框的大小进行设置 -->
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                                <h4 class="modal-title">标题</h4>
                            </div>
                            <div class="modal-body">
                                <p>内容，可放置表格，表单或其他&hellip;</p>
                                <p>除内容modal-body外，也可对标题modal-title、底部modal-footer进行更改</p>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-success" data-dismiss="modal">确认</button>
                                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                            </div>
                        </div>
                        <!-- /.modal-content --> </div>
                    <!-- /.modal-dialog --> </div>
                <!-- /.modal --> </div>
        </div>
        <div class="bs-example">
            <div class="col-md-6">
                <span class="bg-info">实例2：自定义模态框实例</span>
                <hr>
                <!-- system modal start -->
                <div id="alertMode-MessageBox" class="modal">
                    <div class="modal-dialog modal-sm">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal">
                                    <span aria-hidden="true">&times;</span>
                                    <span class="sr-only">Close</span>
                                </button>
                                <h5 class="modal-title">[Title]</h5>
                            </div>
                            <div class="modal-body small">
                                <span class="[Icon]" style="font-size:40px; vertical-align:middle;"></span>
                                <small class="text-muted">[Message]</small>
                            </div>
                            <div class="modal-footer" >
                                <button type="button" class="btn btn-primary ok" data-dismiss="modal">[BtnOk]</button>
                                <button type="button" class="btn btn-default cancel" data-dismiss="modal">[BtnCancel]</button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- system modal end -->
                <button type="button" class="btn btn-warning" id="alertModel">自定义警告框</button>
                <button type="button" class="btn btn-success" id="confirmModel">自定义确认框</button>
                <br />
                <br />
                <button type="button" class="btn btn-success" id="alertModelSuccess">成功</button>
                <button type="button" class="btn btn-warning" id="alertModelWarning">警告</button>
                <button type="button" class="btn btn-danger" id="alertModelDanger">错误</button>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    //自定义警告框
    $("#alertModel").click(function(event) {
        Modal.alert({
            msg: '提示内容 提示内容',
        });
    });
    //自定义确认框
    $("#confirmModel").click(function(event) {
        Modal.confirm({
            msg: '提示内容 提示内容',
            icon: 'glyphicon glyphicon-warning-sign',
            title: "操作提示",
            btnok: '确定',
            btncl:'取消'
        }).on(function (e) {
            if(e) {
                Modal.alert({
                    msg: '确定',
                });
            } else {
                Modal.alert({
                    msg: '取消',
                });
            }
        });
    });
    //成功
    $("#alertModelSuccess").click(function(event) {
        Modal.success();
    });
    //警告
    $("#alertModelWarning").click(function(event) {
        Modal.warning();
    });
    //错误
    $("#alertModelDanger").click(function(event) {
        Modal.danger();
    });

    //封装model
    $(function () {
        window.Modal = function () {
            var reg = new RegExp("\\[([^\\[\\]]*?)\\]", 'igm');
            var alr = $("#alertMode-MessageBox");
            var ahtml = alr.html();
            //var type = {
            //    alert: 0,
            //    confirm: 1,
            //    prompt: 2
            //}

            var _alert = function (options) {
                alr.html(ahtml);    // 复原
                alr.find('.ok').removeClass('btn-success').addClass('btn-primary');
                alr.find('.cancel').hide();
                _dialog(options);

                return {
                    on: function (callback) {
                        if (callback && callback instanceof Function) {
                            alr.find('.ok').click(function () { callback(true) });
                        }
                    }
                };
            };

            var _confirm = function (options) {
                alr.html(ahtml); // 复原
                alr.find('.ok').removeClass('btn-primary').addClass('btn-success');
                alr.find('.cancel').show();
                _dialog(options);

                return {
                    on: function (callback) {
                        if (callback && callback instanceof Function) {
                            alr.find('.ok').click(function () { callback(true) });
                            alr.find('.cancel').click(function () { callback(false) });
                        }
                    }
                };
            };

            var _dialog = function (options) {
                var ops = {
                    msg: "提示内容",
                    title: "操作提示",
                    Icon: "",
                    btnok: "确定",
                    btncl: "取消"
                };

                $.extend(ops, options);

                var html = alr.html().replace(reg, function (node, key) {
                    return {
                        Title: ops.title,
                        Message: ops.msg,
                        Icon: ops.icon,
                        BtnOk: ops.btnok,
                        BtnCancel: ops.btncl
                    }[key];
                });

                //if(ops.icon==""||ops.icon==null||options.icon=="undefined") {
                //    console.log("没有设置图标");
                //}

                alr.html(html);
                alr.modal({
                    width: 500,
                    backdrop: 'static'
                });
            }

            var _success = function () {
                var ops = {
                    msg: "操作成功了！",
                    title: "操作提示",
                    icon: "glyphicon glyphicon-ok",
                    btnok: "确定",
                    btncl: "取消"
                };
                _alert(ops);
            }

            var _warning = function () {
                var ops = {
                    msg: "操作中出现警告！",
                    title: "操作提示",
                    icon: "glyphicon glyphicon-warning-sign",
                    btnok: "确定",
                    btncl: "取消"
                };
                _alert(ops);
            }

            var _danger = function () {
                var ops = {
                    msg: "操作中出现错误！",
                    title: "操作提示",
                    icon: "glyphicon glyphicon-remove",
                    btnok: "确定",
                    btncl: "取消"
                };
                _alert(ops);
            }

            return {
                alert: _alert,
                success: _success,
                confirm: _confirm,
                warning: _warning,
                danger: _danger
            }

        }();
    });
</script>
